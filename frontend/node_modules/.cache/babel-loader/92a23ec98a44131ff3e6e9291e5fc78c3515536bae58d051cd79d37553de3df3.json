{"ast":null,"code":"import React,{useEffect,useState}from'react';import TeamForm from'../components/TeamForm';import TeamList from'../components/TeamList';import api from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Teams(){const[teams,setTeams]=useState([]);const[selectedTeam,setSelectedTeam]=useState(null);const[loading,setLoading]=useState(false);// For loading state\nconst[error,setError]=useState(null);// For error state\n// fetch teams from api\n/* this is comment-out for now\r\n\r\n  const fetchTeams = async () => {\r\n    const res = await api.get('/teams/');\r\n    setTeams(res.data);\r\n  };\r\n  */const fetchTeams=async()=>{setLoading(true);setError(null);// Reset error before fetching\ntry{const res=await api.get('/teams/');setTeams(res.data);}catch(err){setError('Error fetching teams');}finally{setLoading(false);}};useEffect(()=>{fetchTeams();},[]);// handle add or update team\n/* comment-out for now\r\n\r\n  const handleAddOrUpdate = async (teamData) => {\r\n    if (teamData.id) {\r\n      await api.put(`/teams/${teamData.id}`, teamData);\r\n    } else {\r\n      await api.post('/teams/', teamData);\r\n    }\r\n    fetchTeams();\r\n  };\r\n\r\n  */const handleAddOrUpdate=async teamData=>{setLoading(true);setError(null);// Reset error before making request\ntry{if(teamData.id){await api.put(`/teams/${teamData.id}`,teamData);}else{await api.post('/teams/',teamData);}fetchTeams();}catch(err){setError('Error saving team');}finally{setLoading(false);}};// handle delete team\n/* comment out for now\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this team?')) {\r\n      await api.delete(`/teams/${id}`);\r\n      fetchTeams();\r\n    }\r\n  };\r\n  */const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this team?')){setLoading(true);setError(null);// Reset error before making request\ntry{await api.delete(`/teams/${id}`);fetchTeams();}catch(err){setError('Error deleting team');}finally{setLoading(false);}}};//handle edit team\nconst handleEdit=team=>{setSelectedTeam(team);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Teams\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),\" \",error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),\" \",/*#__PURE__*/_jsx(TeamForm,{onSubmit:handleAddOrUpdate,selectedTeam:selectedTeam,clearSelection:()=>setSelectedTeam(null)}),/*#__PURE__*/_jsx(TeamList,{teams:teams,onEdit:handleEdit,onDelete:handleDelete})]});}export default Teams;","map":{"version":3,"names":["React","useEffect","useState","TeamForm","TeamList","api","jsx","_jsx","jsxs","_jsxs","Teams","teams","setTeams","selectedTeam","setSelectedTeam","loading","setLoading","error","setError","fetchTeams","res","get","data","err","handleAddOrUpdate","teamData","id","put","post","handleDelete","window","confirm","delete","handleEdit","team","children","style","color","onSubmit","clearSelection","onEdit","onDelete"],"sources":["C:/Users/aashi/OneDrive/Desktop/Cricket-Player-Management/frontend/src/pages/Teams.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport TeamForm from '../components/TeamForm';\r\nimport TeamList from '../components/TeamList';\r\nimport api from '../api';\r\n\r\nfunction Teams() {\r\n  const [teams, setTeams] = useState([]);\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\nconst [loading, setLoading] = useState(false); // For loading state\r\n  const [error, setError] = useState(null); // For error state\r\n  // fetch teams from api\r\n  /* this is comment-out for now\r\n\r\n  const fetchTeams = async () => {\r\n    const res = await api.get('/teams/');\r\n    setTeams(res.data);\r\n  };\r\n  */\r\n\r\n const fetchTeams = async () => {\r\n    setLoading(true);\r\n    setError(null); // Reset error before fetching\r\n    try {\r\n      const res = await api.get('/teams/');\r\n      setTeams(res.data);\r\n    } catch (err) {\r\n      setError('Error fetching teams');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTeams();\r\n  }, []);\r\n\r\n  // handle add or update team\r\n  /* comment-out for now\r\n\r\n  const handleAddOrUpdate = async (teamData) => {\r\n    if (teamData.id) {\r\n      await api.put(`/teams/${teamData.id}`, teamData);\r\n    } else {\r\n      await api.post('/teams/', teamData);\r\n    }\r\n    fetchTeams();\r\n  };\r\n\r\n  */\r\n  const handleAddOrUpdate = async (teamData) => {\r\n    setLoading(true);\r\n    setError(null); // Reset error before making request\r\n    try {\r\n      if (teamData.id) {\r\n        await api.put(`/teams/${teamData.id}`, teamData);\r\n      } else {\r\n        await api.post('/teams/', teamData);\r\n      }\r\n      fetchTeams();\r\n    } catch (err) {\r\n      setError('Error saving team');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n// handle delete team\r\n/* comment out for now\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this team?')) {\r\n      await api.delete(`/teams/${id}`);\r\n      fetchTeams();\r\n    }\r\n  };\r\n  */\r\n const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this team?')) {\r\n      setLoading(true);\r\n      setError(null); // Reset error before making request\r\n      try {\r\n        await api.delete(`/teams/${id}`);\r\n        fetchTeams();\r\n      } catch (err) {\r\n        setError('Error deleting team');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n//handle edit team\r\n\r\n  const handleEdit = (team) => {\r\n    setSelectedTeam(team);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Manage Teams</h2>\r\n      {loading && <p>Loading...</p>} {/* Show loading indicator */}\r\n      {error && <p style={{ color: 'red' }}>{error}</p>} {/* Show error message */}\r\n      <TeamForm onSubmit={handleAddOrUpdate} selectedTeam={selectedTeam} clearSelection={() => setSelectedTeam(null)} />\r\n      <TeamList teams={teams} onEdit={handleEdit} onDelete={handleDelete} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Teams;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}